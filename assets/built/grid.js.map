{"version":3,"sources":["grid.js"],"names":["jQuery","document","ready","$","$grid","masonry","itemSelector","columnWidth","gutter","percentPosition","horizontalOrder","addClass","path","msnry","data","imagesLoaded","instance","$items","find","removeClass","window","resize","layout","infiniteScroll","append","outlayer","status","debug","on","event","response","items"],"mappings":"AAAAA,OAAOC,UAAUC,MAAM,SAASC,GACxB,IAAIC,EAAQD,EAAE,SAASE,QAAQ,CAClCC,aAAc,OAClBC,YAAa,cACbC,OAAQ,EACDC,iBAAiB,EACjBC,iBAAiB,IAGxBN,EAAMO,SAAS,uBAEf,IA2BWC,EA3BPC,EAAQT,EAAMU,KAAK,WAChBV,EAAMW,aAAaX,EAAO,SAAUY,GACnCZ,EAAMC,QAAS,SAAU,CAAEC,aAAc,eAEzC,IAAIW,EAASb,EAAMc,KAAK,cACxBd,EAAMe,YAAY,uBAClBf,EAAMC,QAAQ,WAAYY,GAG1Bb,EAAMC,QAAQ,UAEPF,EAAEiB,QAAQC,OAAO,WACbR,EAAMS,aAkBrBV,EAFgBT,EAAE,eAAee,KAAK,gBAC/B,GACA,eAEA,WAAc,MAAO,iBAGzBd,EAAMmB,eAAe,CACjBX,KAAMA,EACNY,OAAQ,aACRC,SAAUZ,EACVa,OAAQ,oBACfC,OAAO,IAGXvB,EAAMwB,GAAI,wBAAyB,SAAUC,EAAOC,EAAUlB,EAAMmB,GAEhElB,EAAMS","file":"grid.js","sourcesContent":["jQuery(document).ready(function($){\n        var $grid = $('.grid').masonry({\n    \titemSelector: 'none', // select none at first\n\tcolumnWidth: '.grid-sizer',\n\tgutter: 0,\n        percentPosition: true,\n        horizontalOrder: true\n\t});\n\n\t$grid.addClass('are-images-unloaded');\n\n\tvar msnry = $grid.data('masonry');\n        $grid.imagesLoaded($grid, function( instance ) {\n\t        $grid.masonry( 'option', { itemSelector: '.grid-item' });\n\n\t        var $items = $grid.find('.grid-item');\n\t        $grid.removeClass('are-images-unloaded');\n\t        $grid.masonry('appended', $items);\n\t\t// This should not be necessary, but on document reload\n\t\t// the append call doesn't trigger layout\n\t        $grid.masonry('layout');\n\n                $(window).resize(function () {\n                    msnry.layout();\n                });\n            });\n\n        /* due to a bug in infinite scroll, if the page doesn't have the\n\t   path selector, i.e., there is only enough content for one page,\n\t   IS errors, and we end up with the status animation going at the\n\t   bottom of the page. So, we check ourselves, and if there is only\n\t   one page, give it a function that returns non-existent url (the\n\t   function must return something that doesn't evaluate to false,\n\t   otherwise same thing happens.\n\n           It would make sense not to init IS in this case, but that breaks\n\t   the grid.\n\t */\n        var path;\t\n        var $older = $('.pagination').find('.older-posts');\n\tif ($older[0]) {\n\t    path = '.older-posts';\n\t} else {\n\t    path = function () { return 'no-more-pages'; };\n\t}\n\t\n        $grid.infiniteScroll({\n            path: path,\n            append: '.grid-item',\n            outlayer: msnry,\n            status: '.page-load-status',\n\t    debug: true,\n        });\n\n\t$grid.on( 'append.infiniteScroll', function( event, response, path, items ) {\n\t    // This should not be necessary, but is, no idea why\n\t    msnry.layout();\n\t});\n});\n"]}